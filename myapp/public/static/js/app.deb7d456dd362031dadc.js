webpackJsonp([1],{"+skl":function(t,e){},0:function(t,e){},"0w8d":function(t,e){},"7aCj":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},o,!1,function(t){n("7aCj")},null,null).exports,r=n("/ocq"),s={name:"admim",map:null,data:function(){return{locationInfo:"",currentItem:0,numberList:[{number:"18380266573",data:""},{number:"18380266573",data:""},{number:"18380266573",data:""}]}},sockets:{connect:function(){console.log("socket connected")},map:function(t){this.drawMarker(t)}},methods:{changeItem:function(t){},createMap:function(){new AMap.Map("container",{resizeEnable:!0,zoom:11,center:[104.09659999999997,30.67394]})},drawMarker:function(t){var e=t.msg,n=[];n[1]=e.position.Q,n[0]=e.position.R;var a=new AMap.Map("container",{resizeEnable:!0,zoom:11,center:[104.09659999999997,30.67394]}),o=new AMap.Marker({icon:"https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",position:n});a.add(o),a.setFitView(),this.locationInfo=e.formattedAddress,console.log(e)},getsocket:function(){this.$socket.emit("client message","admin")}},mounted:function(){this.createMap()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Layout",{staticStyle:{height:"100%"}},[n("Header",[n("Menu",{attrs:{mode:"horizontal",theme:"dark"}},[n("div",{staticClass:"headerTitle"},[t._v("眉山消防定位系统")]),t._v(" "),n("div",{staticClass:"layout-nav"})])],1),t._v(" "),n("Layout",[n("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[n("Menu",{attrs:{theme:"light",width:"auto","open-names":["1"],"active-name":t.currentItem},on:{"on-select":t.changeItem}},[n("Submenu",{attrs:{name:"1"}},[n("template",{slot:"title"},[t._v("\n                            报警人员列表\n                        ")]),t._v(" "),t._l(t.numberList,function(e,a){return n("div",{key:a},[n("MenuItem",{attrs:{name:a}},[t._v(t._s(e.number)+"\n                            "),n("Button",{attrs:{type:"error",size:"small"},on:{click:t.getsocket}},[t._v("删除")])],1)],1)}),t._v(" "),n("Button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"}},[t._v("新建火灾信息")])],2)],1)],1),t._v(" "),n("Layout",{staticStyle:{position:"relative"}},[n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"container"}}),t._v(" "),n("Card",{staticClass:"infoCard"},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n                      具体位置信息:\n                  ")]),t._v(" "),n("p",[t._v(t._s(this.locationInfo))])])],1)],1)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(s,c,!1,function(t){n("0w8d")},"data-v-42c7a53c",null).exports,l={name:"client",data:function(){return{info:"定位中，请等待"}},methods:{getLocation:function(){var t=this;AMap.plugin("AMap.Geolocation",function(){new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0}).getCurrentPosition(function(e,n){"complete"==e?t.onComplete(n):t.info="定位失败"})})},onComplete:function(t){var e=this;this.$axios({method:"post",url:"http://120.78.79.229:3000",data:{data:t}}).then(function(t){e.info="定位成功"}).catch(function(t){e.info="网络失败"})}},mounted:function(){this.getLocation()}},d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v(this._s(this.info))])},staticRenderFns:[]};var m=n("VU/8")(l,d,!1,function(t){n("wPOG")},"data-v-78352d1e",null).exports;a.default.use(r.a);var p=new r.a({routes:[{path:"/admin",name:"admin",component:u},{path:"/client",name:"client",component:m}]}),f=n("BTaQ"),h=n.n(f),v=(n("+skl"),n("mtWM")),_=n.n(v),g=(n("Rf8U"),n("HI0L")),w=n.n(g);n("DmT9");a.default.config.productionTip=!1,a.default.use(h.a),a.default.use(new w.a({debug:!1,connection:"http://120.78.79.229:3000"})),a.default.prototype.$axios=_.a,new a.default({el:"#app",router:p,components:{App:i},template:"<App/>"})},wPOG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.deb7d456dd362031dadc.js.map